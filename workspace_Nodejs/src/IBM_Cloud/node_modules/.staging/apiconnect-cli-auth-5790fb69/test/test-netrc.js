/********************************************************* {COPYRIGHT-TOP} ***
 * Licensed Materials - Property of IBM
 * 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
 *
 * (C) Copyright IBM Corporation 2016, 2017
 *
 * All Rights Reserved.
 * US Government Users Restricted Rights - Use, duplication or disclosure
 * restricted by GSA ADP Schedule Contract with IBM Corp.
 ********************************************************** {COPYRIGHT-END} **/
// Node module: apiconnect-cli-auth

/*eslint brace-style: 0, max-len: 0*/

var Netrc = require('../lib/netrc');
var test = require('tap').test;

test('Netrc', function(t) {

  test('load credentials', function(t) {
    var creds = Netrc.credentials();
    t.equal(!creds, false);
    t.end();
  });

  test('add credentials', function(t) {
    Netrc.setCredential('localhost', 'admin@us.ibm.com', 'password');
    var credLocalhost = Netrc.lookup('localhost');
    t.equal(credLocalhost.login, 'admin@us.ibm.com');
    t.equal(credLocalhost.password, 'password');
    t.end();
  });

  test('delete credentials', function(t) {
    Netrc.deleteCredential('localhost');
    var cred = Netrc.lookup('localhost');
    t.equal(!cred, true);
    t.end();
  });

  t.end();

});

